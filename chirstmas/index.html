<!DOCTYPE html> 
<html lang="zh-CN">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" >
    <meta name="apple-mobile-web-app-capable" content="yes" >
<meta name="description" content="">
<title>圣诞节活动</title>
<link rel="stylesheet" type="text/css" href="css/style.css">
<link rel="stylesheet" type="text/css" href="css/animate.css">
</head>
<body>
<!-- loading start -->
<div id="loading" class="loading" style="display:block;">
    <div class="loadbox">
        <div class="loadlogo"></div>
            <div class="loadbg"></div>
    </div>
</div>
<!-- loading end -->

<!-- page start -->
<div class="wrap">
    <div class="full_page">
    <div class="bodyovery"></div>
        <div class="page page1 current">
           <div class="content">
               <div class="header animated fadeIn">
                   <div class="title"></div>
                   <div class="snow animated infinite"></div>
               </div>
               <div class="main">
                   <ul>
                       <li class="tree">
                           <span class="icon1"></span>
                           <span class="icon2"></span>
                           <span class="icon3"></span>
                           <span class="icon4"></span>
                           <span class="icon5"></span>
                       </li>
                       <li class="gift"></li>
                       <li>
                           <span class="word word1 animated fadeInLeft delay05"></span>
                           <span class="word word2 animated fadeInLeft delay15"></span>
                           <span class="word word3 animated fadeInLeft delay25"></span>
                           <span class="word word4 animated fadeInLeftTada delay35"></span>
                       </li>
                       <li class="people">
                           <span class="tears animated infinite tada"></span>
                       </li>
                   </ul>
               </div>
               <div class="footer">
                   <span class="pointer animated infinite flash"></span>
               </div>
           </div>
        </div>
        <div class="page page2">
            <div class="content1">
                <div class="hd animated fadeInLeftTada delay10">
                <img src="images/title2.png" width="100%">
                    
                </div>
                <div class="bd">
                    <div class="bg animated fadeIndownTada">
                        <img src="images/bg2-1.png" width="100%">
                    </div>
                    <div class="goods animated fadeIndownTada">
                        <img src="images/goods.png" width="100%">
                        <span class="tips J_tips"></span>
                    </div>
                    <div class="names animated fadeIn delay10">
                        <img src="images/names.png" width="100%">
                    </div>
                </div>
                <div class="fd animated fadeIn delay10">
                    <span class="pointer animated infinite flash"></span>
                </div>
                
            </div>
            <div class="tip-wrap">
            </div>
        </div>
        <div class="page page3">
            <div class="content">
                <div class="hd"></div>
                <div class="bd">
                    <div class="bg"></div>
                    <div class="icon clickBtn"></div>
                    <div class="goods">
                        <span class="icon icon1 animated infinite swing"></span>
                        <span class="icon icon2 animated infinite swing"></span>
                        <span class="icon icon3 animated infinite swing"></span>
                        <span class="icon icon4 animated infinite swing"></span>
                        <span class="icon icon5 animated infinite swing"></span>
                        <span class="icon icon6 animated infinite updown"></span>
                        <span class="icon icon7 animated infinite flash"></span>
                        <span class="icon icon8 animated infinite swing"></span>
                        <span class="icon icon9 animated infinite swing"></span>
                    </div>
                   <div>
                        <i class="lamp lamp1"></i>
                        <i class="lamp lamp2"></i>
                        <i class="lamp lamp3"></i>
                        <i class="lamp lamp4"></i>
                        <i class="lamp lamp5"></i>
                        <i class="lamp lamp6"></i>
                        <i class="lamp lamp7"></i>
                        <i class="lamp lamp8"></i>
                        <i class="lamp lamp9"></i>
                        <i class="lamp lamp10"></i>
                        <i class="lamp lamp11"></i>
                        <i class="lamp lamp12"></i>
                        <i class="lamp lamp13"></i>
                        <i class="lamp lamp14"></i>
                        <i class="lamp lamp15"></i>
                        <i class="lamp lamp16"></i>
                        <i class="lamp lamp17"></i>
                        <i class="lamp lamp18"></i>
                        <i class="lamp lamp19"></i>
                        <i class="lamp lamp20"></i>
                        <i class="lamp lamp21"></i>
                        <i class="lamp lamp22"></i>
                        <i class="lamp lamp23"></i>
                        <i class="lamp lamp24"></i>
                        <i class="lamp lamp25"></i>
                        <i class="lamp lamp26"></i>
                        <i class="lamp lamp27"></i>
                        <i class="lamp lamp28"></i>
                        <i class="lamp lamp29"></i>
                        <i class="lamp lamp30"></i>
                        <i class="lamp lamp31"></i>
                        <i class="lamp lamp32"></i>
                        <i class="lamp lamp33"></i>
                        <i class="lamp lamp34"></i>
                        <i class="lamp lamp35"></i>
                        <i class="lamp lamp36"></i>
                    </div>
                </div>
            </div>
        </div>
        <div class="page page4">
        <div class="layer"></div>
            <div class="content">
                <div class="hd"></div>
                <div class="bd">
                    <div class="goods animated zoomIn"></div>
                    <div class="flowers animated infinite zoomIn delay05"></div>
                </div>
                <div class="fd">
                    <div class="input_wrap">
                        <span class="txt"><input type="text" placeholder="输入手机号 领取豪礼" /></span>
                        <a href="#" class="btn btn_submit"></a>
                    </div>
                    <div class="account">
                        <p>奖品已放置账户：<span class="phone">13590193775</span>(<a href="#" class="modify">修改</a>)</p>
                    </div>
                    <div>
                        <a href="#" class="btn btn_success"></a>
                        <a href="#" class="btn btn_other"></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- page end -->

<!--start music  -->
<div id="audio_btn" class="off video_exist rotate" style="display: block;">
    <audio loop="" src="Jingle Bells.mp3" id="media" autoplay preload>
    </audio>
</div>
<!-- end music -->

</body>
<script type="text/javascript" src="js/zepto.min.js"></script>
<script type="text/javascript">

window.onload = function(){
    $("#loading").hide();
    $(function(){
         var NUM = 0,
             numarr = [5,10,16,21,26,29,33];
        // 图片单页面的切换
        $('.page1 .footer').on("click",function(){
            $('.page1').addClass("animated bounceOutLeft").removeClass("current").hide();
            $('.page.page2').show().addClass("current");
            return false;
        })

        // 进入第三页
        $('.page2 .fd').on("click",function(){
            $('.page.page2').hide().removeClass("current");
            $('.page.page3').show().addClass("current");
            return false;
        });

        // 进入第四页
         $('.page3 .icon.clickBtn ').on("click",function(){
            var index = getRandom(0, 6);    //随机的一个数   6 ，10,16,21,27,34
            var num = numarr[index];
            onLamp();
            function onLamp(){
              if(NUM<num){
                 $(".lamp").eq(NUM).addClass("on");
              }

              NUM++;
              setTimeout(onLamp,100);
            }

            setTimeout(function(){
                $(".goods .icon5").addClass("tada");
                if($(".goods .icon5").hasClass("tada")){
                    $('.page.page3').removeClass("current");
                    $('.page.page4').addClass("current");
                }
                 $('.page.page3').removeClass("current");
                 $('.page.page4').addClass("current");
                
                
            },100*num+1000);
            return false;
        });

         
       


        // 图4点击确定
        $('.page4 .btn_submit').on("click",function(){
            var phone = $(".input_wrap .txt input").val();
            if(!phone){
                $('body').loader({
                    status: 'error',
                    text: '请输入手机号码'
                })
                return;
            }
            $.ajax({
                url : "/Activity/Lottery/ajax_christmas",
                post : "post",
                data : {
                    'phone' : phone
                },
                status : function(data){
                    if(data.statusCode === 0){
                        console.log(data.data);
                    }
                }
            })
            $(".input_wrap").hide();
            $(".account").show();
            $(".phone").html(phone);

            return false;
        })
        // 图4点击召唤
        $('.page4 .btn_other').on("click",function(){
           $('.page4 .layer').show();
            return false;
        })


        // 图二显示点击显示活动规则
        $('.tips').on('click',function(){
            $('.tip-wrap').show();
            $('.bodyovery').show();
            $('.tip-wrap').on('click',function(){
                $('.tip-wrap').hide();
                $('.bodyovery').show();
                return false;
            });
            return false;

        })
    })

    // 暂停或播放背景音乐
    $("#audio_btn").on("click",function(){
       var _this = $(this);
       if(_this.hasClass('rotate')){
        _this.removeClass('rotate');
        $("audio")[0].pause();
       }else{
        _this.addClass('rotate');
        $("audio")[0].play();
       }
    });
}

// 获取随机数
function getRandom(min, max){
    var r = Math.random() * (max - min);
    var re = Math.round(r + min);
    re = Math.max(Math.min(re, max), min)
     
    return re;
}



//提示组件
$.extend($.fn, {
    loader: function(config) {
        var _config = {
            status: 'info',
            text: '加载中...',
            duration: 1.2,
            url: ''
        };
        var loadertime = null;
        //合并参数
        var opts = $.extend({}, _config, config);
        var template = '<div id="jHloader"><div class="jHloader-body"><div class="jHloader-text">{{text}}</div></div></div>',
            icon;
        if (opts.status == 'loading') {
            icon = '<div class="spinner"><div class="spinner-icon"></div></div>'
        } else if (opts.status == 'info') {
            icon = '<span class="icon-more-horiz"></span>'
        } else if (opts.status == 'success') {
            icon = '<span class="icon-check"></span>'
        } else if (opts.status == 'error') {
            icon = '<span class="icon-close"></span>'
        }
        template = template.replace("{{text}}", opts.text); //console.log(template);
        $('#jHloader').remove();
        $('body').append(template);
        clearTimeout(loadertime);
        loadertime = null;
        if (opts.status != 'loading') {
            loadertime = setTimeout(function() {
                $('#jHloader').remove();
                if (opts.url) window.location.href = opts.url;
            }, opts.duration * 1000);
        }
    }
});

</script>
</html>